<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Modbus/Tcp-IP - wrs</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Modbus/Tcp-IP";
        var mkdocs_page_input_path = "fr\\modbus.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> wrs
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="" href="../../index.md">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../../simulator.md">Simulator</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../../library.md">Simulable library</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../../synoptic.md">Synoptic</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../../modbus.md">Modbus TCP-IP</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../../plc.md">Programmable Logic Controller</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../../hmi.md">Human Machine Interface</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../../speed_controller.md">Speed Controller</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../../grapher.md">Grapher</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../../errors.md">Warning list</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">wrs</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Modbus/Tcp-IP</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="modbustcp-ip">Modbus/Tcp-IP</h1>
<h2 id="preambule">Préambule</h2>
<ul>
<li>Le simulateur intègre le protocole bus de terrain MODBUS/TCP-IP qui est une variante du MODBUS série proposé par la société MODICON depuis 1979.</li>
<li>La variante TCP-IP encapsule le protocole MODBUS dans le protocole Ethernet.</li>
<li>
<p>Cette encapsulation permet aux constructeurs d'utiliser MODBUS sur toute l'infrastructure matérielle Ethernet</p>
</li>
<li>
<p>MODBUS TCP-IP présente des avantages déterminants :</p>
<ul>
<li>c'est le protocole Ethernet Industriel le plus employé dans le monde,</li>
<li>les <a href="assets/Modbus_Application_Protocol_V1_1b.pdf">spécifications</a> sont facilement disponibles, </li>
<li>il est taillé pour réaliser l'échange rapide de petites quantités de données.</li>
</ul>
</li>
</ul>
<h2 id="codes-fonction-modbus-supportes">Codes fonction MODBUS supportés</h2>
<ul>
<li>code 03 (0x03) Read Holding Registers<ul>
<li>Ce code de fonction est utilisé pour lire le contenu d'un bloc contigu de registres de la mémoire automate. La requête spécifie l'adresse du registre de départ et le nombre de registres. Dans la requête, les registres sont adressés en commençant à zéro. Ainsi, les registres numérotés de 1 à 16 sont adressés comme 0 à 15.</li>
<li>Les données des registres dans le message de réponse sont compactées sous forme de deux octets par registre, avec le contenu binaire justifié à droite dans chaque octet. Pour chaque registre, le premier octet contient les bits de poids fort et le second contient les bits de poids faible .
<img alt="" src="../media/request3.png" /></li>
</ul>
</li>
<li>code 16 (0x10) Write Multiple Registers<ul>
<li>Ce code de fonction est utilisé pour écrire un bloc de registres contigus (1 à 123 registres) dans dans la mémoire automate.Les valeurs à écrire sont spécifiées dans le champ de données de la requête. Les données sont compactées sous forme de deux octets par registre.</li>
<li>La réponse normale renvoie le code de fonction, l'adresse de départ, et la quantité de registres écrits.
<img alt="" src="../media/request16.png" /></li>
</ul>
</li>
<li>code 23 (0x17) Read/Write Multiple Registers<ul>
<li>Ce code de fonction effectue une combinaison d'une opération de lecture et d'une opération d'écriture dans une seule transaction MODBUS. L'opération d'écriture est effectuée avant l'opération de lecture.</li>
<li>Les registres de la mémoire automate sont adressés en commençant à zéro. Ainsi, les registres 1 à 16 sont adressés dans l'automate comme 0 à 15.</li>
<li>La requête spécifie l'adresse de départ et le nombre de registres de la mémoire automate à lire, ainsi que l'adresse de départ, le nombre de registres de la mémoire automate et les données à écrire. Le champ <strong>WriteByteCount</strong> spécifie le nombre d'octets qui suivent dans le champ de données à écrire.</li>
<li>La réponse normale contient les données du groupe de registres qui ont été lus. Le champ <strong>ByteCount</strong> spécifie la quantité d'octets à suivre dans le champ de données lues.
<img alt="" src="../media/request23.png" /></li>
</ul>
</li>
</ul>
<h2 id="mappage-modbus">Mappage MODBUS</h2>
<p><img alt="" src="../media/mappage_modbus.png" /></p>
<h2 id="configuration-modbus">Configuration MODBUS</h2>
<p><img alt="" src="../media/modbus_config.png" /></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>adresse_ip</td>
<td>localhost/127.0.0.1/192.168.0.10</td>
<td>adresse IP du serveur API</td>
</tr>
<tr>
<td>port</td>
<td>502</td>
<td>port normalisé MODBUS</td>
</tr>
<tr>
<td>ID_unite</td>
<td>111</td>
<td>identifiant du client</td>
</tr>
<tr>
<td>adresse_table_echange</td>
<td>400</td>
<td>pointeur sur la table d'échange</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p>Si l'objet de configuration MODBUS n'est pas placé dans votre projet, les valeurs utilisées par défaut sont : adresse_ip = local_host, port = 502, adresse_table_echange = 400 et ID_unite = 111.</p>
</li>
<li>
<p>L'objet de configuration MODBUS est requis  uniquement lorsqu'un automate programmable est présent dans un folio.</p>
</li>
</ul>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
